# Database Intelligence - Environment Configuration Template
# Copy this file to .env and update values for your environment

# =============================================================================
# ENVIRONMENT CONFIGURATION
# =============================================================================
ENVIRONMENT=development
SERVICE_NAME=database-intelligence-collector
SERVICE_VERSION=2.0.0

# =============================================================================
# DATABASE CONNECTIONS
# =============================================================================

# PostgreSQL Configuration
DB_POSTGRES_ENDPOINT=localhost:5432
DB_POSTGRES_USER=postgres
DB_POSTGRES_PASSWORD=password
DB_POSTGRES_DATABASE=testdb

# MySQL Configuration  
DB_MYSQL_ENDPOINT=localhost:3306
DB_MYSQL_USER=root
DB_MYSQL_PASSWORD=password
DB_MYSQL_DATABASE=testdb

# =============================================================================
# EXPORT DESTINATIONS
# =============================================================================

# New Relic Configuration
NEW_RELIC_API_KEY=your_new_relic_license_key_here
NEW_RELIC_ACCOUNT_ID=your_account_id_here

# Generic OTLP Endpoint (optional)
OTLP_ENDPOINT=http://localhost:4317
OTLP_API_KEY=your_api_key_here
OTLP_INSECURE=true

# =============================================================================
# PROCESSOR CONFIGURATION
# =============================================================================

# Adaptive Sampler
ADAPTIVE_SAMPLER_DEFAULT_RATE=0.1
ADAPTIVE_SAMPLER_CACHE_SIZE=10000

# Circuit Breaker
CIRCUIT_BREAKER_FAILURE_THRESHOLD=5
CIRCUIT_BREAKER_RECOVERY_TIMEOUT=30s

# Cost Control
COST_CONTROL_DAILY_BUDGET=100.0
COST_CONTROL_PRICING_TIER_1=0.25

# =============================================================================
# FEATURE FLAGS
# =============================================================================

# Enable/Disable Processors
ENABLE_ADAPTIVE_SAMPLER=true
ENABLE_CIRCUIT_BREAKER=true
ENABLE_COST_CONTROL=true
ENABLE_PLAN_EXTRACTOR=true
ENABLE_VERIFICATION=true
ENABLE_ERROR_MONITOR=true
ENABLE_QUERY_CORRELATOR=true

# Feature Toggles
ENABLE_PII_DETECTION=true
ENABLE_QUERY_ANONYMIZATION=true
ENABLE_PLAN_CACHING=true
ENABLE_PERFORMANCE_PROFILING=false

# =============================================================================
# SECURITY & COMPLIANCE
# =============================================================================

# PII Detection Sensitivity
PII_DETECTION_LEVEL=strict
PII_REDACTION_MODE=hash

# Data Retention
METRICS_RETENTION_DAYS=7
LOGS_RETENTION_DAYS=3
TRACES_RETENTION_DAYS=1

# =============================================================================
# PERFORMANCE TUNING
# =============================================================================

# Memory Limits
MEMORY_LIMIT_MIB=512
MEMORY_SPIKE_LIMIT_MIB=128

# Batch Processing
BATCH_SIZE=1024
BATCH_TIMEOUT=10s

# Collection Intervals
POSTGRES_COLLECTION_INTERVAL=10s
MYSQL_COLLECTION_INTERVAL=10s
CUSTOM_QUERIES_INTERVAL=30s

# =============================================================================
# MONITORING & OBSERVABILITY
# =============================================================================

# Health Check
HEALTH_CHECK_PORT=13133
HEALTH_CHECK_PATH=/health

# Internal Metrics Endpoint
METRICS_PORT=8888

# Profiling (only enable in development)
ENABLE_PPROF=false
PPROF_PORT=1777

# ZPages (OTEL internal observability)
ENABLE_ZPAGES=true
ZPAGES_PORT=55679

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================

# Log Level: debug, info, warn, error
LOG_LEVEL=info
LOG_FORMAT=json
LOG_OUTPUT=stdout

# Development Mode (more verbose logging)
LOG_DEVELOPMENT_MODE=false

# =============================================================================
# TESTING CONFIGURATION
# =============================================================================

# Test Database Settings (for E2E tests)
TEST_POSTGRES_ENDPOINT=localhost:5433
TEST_MYSQL_ENDPOINT=localhost:3307
TEST_DURATION=300s

# Load Testing
LOAD_TEST_QPS=100
LOAD_TEST_DURATION=60s
LOAD_TEST_CONNECTIONS=10

# E2E Test Configuration
E2E_TEST_TIMEOUT=600s
E2E_VERIFY_NRDB=true
E2E_GENERATE_LOAD=true